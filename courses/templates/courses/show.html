{% extends "base.html" %}
{% load students_tags %}
{% load marks_tags %}
{% load courses_tags %}
{% load boolean_tags %}
{% load i18n %}

{% block title %}
{% blocktrans trimmed with name=course.name year=course|course_years %}
Course: {{ name }} ({{year}})
{% endblocktrans %}
{% endblock %}

{% block content %}
    
    <div class="jumbotron">
        <div class="container">
            <h1>{{ course.name }}</h1>
        </div>
    </div>

<div class="container">    
    <div class="panel panel-default">
      <div class="panel-heading">{% trans "Students" %}</div>
      <table class="table">
          <tr>
              <th>{% trans "Name" %}</th>
              <th>{% trans "Average" %}</th>
              <th>{% trans "Std. Dev." %}</th>
              <th>{% trans "Marks count" %}</th>
              <th>{% trans "e-mail" %}</th>
              <th>{% trans "Natv. Lang." %}</th>
              <th>{% trans "3rd Time" %}</th>
          </tr>
          {% for student in students %}
          <tr>
              <td><a href="{% url 'students:show' student.id %}">{{ student }}</a></td>
              <td>{{ student|average_for_course:course|colorize_mark }}</td>
              <td>{{ student|stddev_for_course:course }}</td>
              <td>{{ student|count_marks_for_course:course }}</td>
              <td><a href="mailto:{{s.email}}">{{ student.email }}</a></td>
              <td>{{ student.native_lang|bool_as_icon }}</td>
              <td>{{ student.third_time|bool_as_icon }}</td>
          </tr>
          {% endfor %}
      </table>
    </div>
</div>

{% endblock %}